<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, minimum-scale=1.0">
    <meta name="description" content="">

    <title></title>

    <link rel="stylesheet" href="/styles/main.css">

</head>
<body class="js-poll  clear-fix">
    <div class="wrapper">

        <h1>Popoll!</h1>

        <h2 v-text="question"></h2>

        <!--
        <form v-on="submit: submit" class="js-poll-form  poll-form  align-center">
            <input v-model="question" placeholder="Start typing to start a new poll!" class="align-center  one-whole  poll-form__input  nudge-half--bottom">

            <button v-class="invisible: !isValid" class="poll-form__button  invisible  one-half">Start That Poll Son!</button>
        </form>
        -->

        <section data-ui-component="poll__choices">
            <h5 v-show="!choices.length">There are no choices for this poll yet. Add one?</h5>

            <section v-repeat="choices" class="poll__choice  clear-fix">
                <div class="choice__name  float-left">{{ name }}</div>
                <div v-class="light: votes.length == 0" class="choice__votes  float-right">{{ votes.length ? votes.length : 'no' }} votes</div>
                <div v-style="width: voteCount + '%'" class="choice__meter  one-whole"></div>
            </section>

            <form v-on="submit: choiceSubmit">
                <input v-model="newChoice" placeholder="Add a new choice" class="two-thirds  input"></textarea>
            </form>
        </section>


        <section data-ui-component="comments">
            <h3>Comments</h3>

            <article v-repeat="comments" class="comment">
                <footer class="comment__footer  clear-fix">
                    <a v-on="click: commentDelete(this, $event)" href="#" class="float-right  icon--cross  link--plain"></a>
                    <span v-text="user.username" class="comment__author"></span>
                    <small class="comment__time  light">
                        on <time v-text="createdat | dateformat fullDate" datetime="" pubdate></time>
                    </small>
                </footer>

                <div v-html="body | marked" class="comment__body">
                </div>
            </article>

            <form v-on="submit: commentSubmit">
                <textarea v-model="newCommentBody" class="one-whole  textarea"></textarea>

                <button class="poll-form__button  one-third  float-right">New Comment</button>
            </form>
        </section>

    </div><!-- wrapper -->

    <script src="/dist/scripts/view-models/poll.js"></script>
</body>
</html>
